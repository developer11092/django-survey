{% load static %}
<!DOCTYPE html>
<html lang="en">
  <script>
  
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.watchPosition(showPosition);
  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}
function showPosition(position) {
  var x = document.getElementById("demo");
  var lat = position.coords.latitude;
  var lng = position.coords.longitude;
  document.getElementById("lat").value =  lat
  document.getElementById("long").value =  lng
}
window.onload = getLocation();
{% comment %} <script type="text/javascript"></script>

function getLocation(position) {
if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var accuracy = position.coords.accuracy;
        var coords = new google.maps.LatLng(latitude, longitude);
        var mapOptions = {
            zoom: 15,
            center: coords,
            mapTypeControl: true,
            navigationControlOptions: {
                style: google.maps.NavigationControlStyle.SMALL
            },
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        var capa = document.getElementById("demo");
        capa.innerHTML = "latitude: " + latitude + ", longitude: " + ", accuracy: " + accuracy;

        map = new google.maps.Map(document.getElementById("mapContainer"), mapOptions);
        var marker = new google.maps.Marker({
            position: coords,
            map: map,
            title: "ok"
        });

    },
    function error(msg) {alert('Please enable your GPS position feature.');},
    {maximumAge:10000, timeout:5000, enableHighAccuracy: true});
} else {
    alert("Geolocation API is not supported in your browser.");
}
} {% endcomment %}

</script
  <head>
	<meta charset="utf-8">
	<title>{% block title %}{% endblock title %}</title>
    <link rel="icon" href="{% static 'img/favicon.ico'%}"/>
    <link href="{% static 'css/bootstrap.min.css'%}" rel="stylesheet" type="text/css"/>
	<link rel="stylesheet" type="text/css" href="{% static 'css/custom.css' %}" />
  </head>
  <body>
    <div class="container" id="wrap">
	   {% block wrapper %} {% endblock %}
        <div class="well" id="container-main">
	       {% block body %}	{% endblock %}
	   </div>
	</div>
	<div class="footer">
        <div class="container">
	       {% block footer %}{% endblock %}
        </div>
    </div>
    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
	{% block extrajs %}	{% endblock %}
  </body>
</html>

